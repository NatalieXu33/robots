<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>UCLA Robots Lab 2014: compressedSensing/compressedSensing.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">UCLA Robots Lab 2014
   </div>
   <div id="projectbrief">Environmental Mapping with Autonomous Robots using Compressed Sensing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4cc321b3c781d74d20e22c96ef3db0cc.html">compressedSensing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">compressedSensing.ino File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Arduino code to collect and communicate data to a server which can reconstruct it using a compressed sensing algorithm.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Adafruit_CC3000.h&gt;</code><br />
<code>#include &lt;ccspi.h&gt;</code><br />
<code>#include &lt;SPI.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;utility/debug.h&quot;</code><br />
<code>#include &lt;JsonParser.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5863bf16a0f6addecfd502856c2ba0f0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5863bf16a0f6addecfd502856c2ba0f0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADAFRUIT_CC3000_IRQ</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a5863bf16a0f6addecfd502856c2ba0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba6361788d09974072f6e1aec700c950"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba6361788d09974072f6e1aec700c950"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADAFRUIT_CC3000_VBAT</b>&#160;&#160;&#160;5</td></tr>
<tr class="separator:aba6361788d09974072f6e1aec700c950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa38deec1705654d8464b9c552c22e4d6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa38deec1705654d8464b9c552c22e4d6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ADAFRUIT_CC3000_CS</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:aa38deec1705654d8464b9c552c22e4d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7a7ba1ab7e0406f1b5ab36d579f585"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb7a7ba1ab7e0406f1b5ab36d579f585"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LED</b>&#160;&#160;&#160;13</td></tr>
<tr class="separator:aeb7a7ba1ab7e0406f1b5ab36d579f585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c5d64ba8dc341fce64f0709022c6740"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c5d64ba8dc341fce64f0709022c6740"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LPLUS</b>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a5c5d64ba8dc341fce64f0709022c6740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf42ed37ab691c48a66105976e537e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aabf42ed37ab691c48a66105976e537e7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LMINUS</b>&#160;&#160;&#160;7</td></tr>
<tr class="separator:aabf42ed37ab691c48a66105976e537e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7c81d02991640acf728457675ba7c72"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af7c81d02991640acf728457675ba7c72"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPLUS</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:af7c81d02991640acf728457675ba7c72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a74bc3cb529d74d1a3e862a1484c9b7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a74bc3cb529d74d1a3e862a1484c9b7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RMINUS</b>&#160;&#160;&#160;9</td></tr>
<tr class="separator:a2a74bc3cb529d74d1a3e862a1484c9b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68e22635ff207d8ca10459833856bd75"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a68e22635ff207d8ca10459833856bd75"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IR</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a68e22635ff207d8ca10459833856bd75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d23ae6c17168a7ce76f565959a7100"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af8d23ae6c17168a7ce76f565959a7100"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WLAN_SSID</b>&#160;&#160;&#160;&quot;TP-LINK_3C1C5E&quot;</td></tr>
<tr class="separator:af8d23ae6c17168a7ce76f565959a7100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81677f718a77a70296f7681cdb913455"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a81677f718a77a70296f7681cdb913455"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WLAN_PASS</b>&#160;&#160;&#160;&quot;20225964&quot;</td></tr>
<tr class="separator:a81677f718a77a70296f7681cdb913455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afac8a1382cf2af5f3045eab50669e6d0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afac8a1382cf2af5f3045eab50669e6d0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WLAN_SECURITY</b>&#160;&#160;&#160;WLAN_SEC_WPA2</td></tr>
<tr class="separator:afac8a1382cf2af5f3045eab50669e6d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dadacd5ee41d21ea8974d66757983dd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9dadacd5ee41d21ea8974d66757983dd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PREALLOC</b>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a9dadacd5ee41d21ea8974d66757983dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af217a5dc61c4e5069971d91a9d9048f7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af217a5dc61c4e5069971d91a9d9048f7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_PATHS</b>&#160;&#160;&#160;225</td></tr>
<tr class="separator:af217a5dc61c4e5069971d91a9d9048f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35df4142741edb3e8a06a384611e41f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad35df4142741edb3e8a06a384611e41f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_FAILS</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ad35df4142741edb3e8a06a384611e41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab31fd7569f9643816a5f7715e65cd172"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab31fd7569f9643816a5f7715e65cd172"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_SENSOR</b>&#160;&#160;&#160;720</td></tr>
<tr class="separator:ab31fd7569f9643816a5f7715e65cd172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad8821d9f5a7551178b769258fa4866"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ad8821d9f5a7551178b769258fa4866"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WHITE_BOUNDARY</b>&#160;&#160;&#160;65</td></tr>
<tr class="separator:a7ad8821d9f5a7551178b769258fa4866"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7dfd9b79bc5a37d7df40207afbc5431f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#a7dfd9b79bc5a37d7df40207afbc5431f">setup</a> (void)</td></tr>
<tr class="memdesc:a7dfd9b79bc5a37d7df40207afbc5431f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The required setup function for the Arduino.  <a href="#a7dfd9b79bc5a37d7df40207afbc5431f">More...</a><br /></td></tr>
<tr class="separator:a7dfd9b79bc5a37d7df40207afbc5431f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c3b7689564254274a0e3a2a1771d473"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c3b7689564254274a0e3a2a1771d473"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#a4c3b7689564254274a0e3a2a1771d473">initPins</a> ()</td></tr>
<tr class="memdesc:a4c3b7689564254274a0e3a2a1771d473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the relevant pins on the arduino. <br /></td></tr>
<tr class="separator:a4c3b7689564254274a0e3a2a1771d473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b33edabd7f1c4e4a0bf32c67269be2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#a0b33edabd7f1c4e4a0bf32c67269be2f">loop</a> (void)</td></tr>
<tr class="memdesc:a0b33edabd7f1c4e4a0bf32c67269be2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The required loop function for the Arduino.  <a href="#a0b33edabd7f1c4e4a0bf32c67269be2f">More...</a><br /></td></tr>
<tr class="separator:a0b33edabd7f1c4e4a0bf32c67269be2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f527ab54a51b215bb0f3492df22ab9b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#a5f527ab54a51b215bb0f3492df22ab9b">send_request</a> (String request)</td></tr>
<tr class="memdesc:a5f527ab54a51b215bb0f3492df22ab9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a request to the server with the state and possibly data.  <a href="#a5f527ab54a51b215bb0f3492df22ab9b">More...</a><br /></td></tr>
<tr class="separator:a5f527ab54a51b215bb0f3492df22ab9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbf1a7054439ab0113ab50cc2fb28c19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#adbf1a7054439ab0113ab50cc2fb28c19">get_response</a> ()</td></tr>
<tr class="memdesc:adbf1a7054439ab0113ab50cc2fb28c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives and processes the HTTP response from the server.  <a href="#adbf1a7054439ab0113ab50cc2fb28c19">More...</a><br /></td></tr>
<tr class="separator:adbf1a7054439ab0113ab50cc2fb28c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de2a543986e45b9083c69f6138bf079"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7de2a543986e45b9083c69f6138bf079"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#a7de2a543986e45b9083c69f6138bf079">forward</a> ()</td></tr>
<tr class="memdesc:a7de2a543986e45b9083c69f6138bf079"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor control method to drive forward. <br /></td></tr>
<tr class="separator:a7de2a543986e45b9083c69f6138bf079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b83f0fc7f06bee951213dd4b22e0e93"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b83f0fc7f06bee951213dd4b22e0e93"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#a9b83f0fc7f06bee951213dd4b22e0e93">backward</a> ()</td></tr>
<tr class="memdesc:a9b83f0fc7f06bee951213dd4b22e0e93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor control method to drive backward. <br /></td></tr>
<tr class="separator:a9b83f0fc7f06bee951213dd4b22e0e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3626c95a655db63dc665702075daa7bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3626c95a655db63dc665702075daa7bc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#a3626c95a655db63dc665702075daa7bc">rotateLeft</a> ()</td></tr>
<tr class="memdesc:a3626c95a655db63dc665702075daa7bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor control method to rotate left. <br /></td></tr>
<tr class="separator:a3626c95a655db63dc665702075daa7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf32e979343f98b647e2a8c08ac56abb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf32e979343f98b647e2a8c08ac56abb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#abf32e979343f98b647e2a8c08ac56abb">rotateRight</a> ()</td></tr>
<tr class="memdesc:abf32e979343f98b647e2a8c08ac56abb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor control method to rotate right. <br /></td></tr>
<tr class="separator:abf32e979343f98b647e2a8c08ac56abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade0430439247877006d7df950f94918a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade0430439247877006d7df950f94918a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#ade0430439247877006d7df950f94918a">halt</a> ()</td></tr>
<tr class="memdesc:ade0430439247877006d7df950f94918a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor control method to stop moving. <br /></td></tr>
<tr class="separator:ade0430439247877006d7df950f94918a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35dd63cb275f844339e426068c27c85"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac35dd63cb275f844339e426068c27c85"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#ac35dd63cb275f844339e426068c27c85">moveNext</a> (boolean state)</td></tr>
<tr class="memdesc:ac35dd63cb275f844339e426068c27c85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to direct motors and sensor in collecting data. <br /></td></tr>
<tr class="separator:ac35dd63cb275f844339e426068c27c85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fc912d7e8ff4b0908303847912e0da1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#a0fc912d7e8ff4b0908303847912e0da1">setupConnection</a> (void)</td></tr>
<tr class="memdesc:a0fc912d7e8ff4b0908303847912e0da1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts up the AdaFruit CC3000 Shield and connects to the internet.  <a href="#a0fc912d7e8ff4b0908303847912e0da1">More...</a><br /></td></tr>
<tr class="separator:a0fc912d7e8ff4b0908303847912e0da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1d041a41e4d1a390370c7096171bf8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressed_sensing_8ino.html#a9b1d041a41e4d1a390370c7096171bf8">displayConnectionDetails</a> (void)</td></tr>
<tr class="memdesc:a9b1d041a41e4d1a390370c7096171bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the IP address and other connection details.  <a href="#a9b1d041a41e4d1a390370c7096171bf8">More...</a><br /></td></tr>
<tr class="separator:a9b1d041a41e4d1a390370c7096171bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7966965abcc24dee5aa6d080b7cccbb5"><td class="memItemLeft" align="right" valign="top">Adafruit_CC3000&#160;</td><td class="memItemRight" valign="bottom"><b>cc3000</b></td></tr>
<tr class="separator:a7966965abcc24dee5aa6d080b7cccbb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbac84d8b4ff1602f8df3309331e81be"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abbac84d8b4ff1602f8df3309331e81be"></a>
Adafruit_CC3000_Client&#160;</td><td class="memItemRight" valign="bottom"><b>client</b></td></tr>
<tr class="separator:abbac84d8b4ff1602f8df3309331e81be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ddb9c845da426f636d9dd0dbed4e7e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a69ddb9c845da426f636d9dd0dbed4e7e"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>ip</b> = cc3000.IP2U32(192,168,0,101)</td></tr>
<tr class="separator:a69ddb9c845da426f636d9dd0dbed4e7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c89c04d1feae07ca35558055155ffb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a63c89c04d1feae07ca35558055155ffb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>port</b> = 80</td></tr>
<tr class="separator:a63c89c04d1feae07ca35558055155ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15e669cf77f4c9525d31f954fb060807"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a15e669cf77f4c9525d31f954fb060807"></a>
String&#160;</td><td class="memItemRight" valign="bottom"><b>repository</b> = &quot;/&quot;</td></tr>
<tr class="separator:a15e669cf77f4c9525d31f954fb060807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c6aa24b36d981c49405db425c24db0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38c6aa24b36d981c49405db425c24db0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>connectTimeout</b> = 15L * 10000L</td></tr>
<tr class="separator:a38c6aa24b36d981c49405db425c24db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab30ba07e2a0bd07a15e45a92c32db9c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab30ba07e2a0bd07a15e45a92c32db9c5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>state</b> = true</td></tr>
<tr class="separator:ab30ba07e2a0bd07a15e45a92c32db9c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aafc743302894a43d26b00075cc553b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7aafc743302894a43d26b00075cc553b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>oldState</b> = false</td></tr>
<tr class="separator:a7aafc743302894a43d26b00075cc553b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6eab33201496ee923f45155e6a47b58"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6eab33201496ee923f45155e6a47b58"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>data</b> = 0</td></tr>
<tr class="separator:ad6eab33201496ee923f45155e6a47b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2563328cda49f11e3c4f0c8c81778167"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2563328cda49f11e3c4f0c8c81778167"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>paths</b> = 0</td></tr>
<tr class="separator:a2563328cda49f11e3c4f0c8c81778167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8667588dec524bf854d0c16771d425a1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8667588dec524bf854d0c16771d425a1"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><b>time</b> = 1000</td></tr>
<tr class="separator:a8667588dec524bf854d0c16771d425a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81fd0e7721c9f0efbea5a5c1273b14ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a81fd0e7721c9f0efbea5a5c1273b14ac"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>numFails</b> = 0</td></tr>
<tr class="separator:a81fd0e7721c9f0efbea5a5c1273b14ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd9ce989708bfebcfc40468e8452fd6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="affd9ce989708bfebcfc40468e8452fd6"></a>
JsonParser&lt; 8 &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>parser</b></td></tr>
<tr class="separator:affd9ce989708bfebcfc40468e8452fd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a930e639b975813ee1ff73f35d4a4bc74"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a930e639b975813ee1ff73f35d4a4bc74"></a>
JsonHashTable&#160;</td><td class="memItemRight" valign="bottom"><b>root</b></td></tr>
<tr class="separator:a930e639b975813ee1ff73f35d4a4bc74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Arduino code to collect and communicate data to a server which can reconstruct it using a compressed sensing algorithm. </p>
<dl class="section author"><dt>Authors</dt><dd>Siddarth Srinivasan (UCLA REU 2014) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>10th July 2014 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a9b1d041a41e4d1a390370c7096171bf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool displayConnectionDetails </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the IP address and other connection details. </p>
<p>Prints the IP Address, Netmask, Gateway, DHCP server and DNS server.</p>
<dl class="section remark"><dt>Remarks</dt><dd>The following code was taken from AdaFruit's buildTest example. </dd></dl>

</div>
</div>
<a class="anchor" id="adbf1a7054439ab0113ab50cc2fb28c19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_response </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives and processes the HTTP response from the server. </p>
<p>The response from the server gets stored in responseHTTP, but it also gets parsed to obtain just the json response without the headers in responseJSON. If the server's 'Response' is true, then it has identified the robot's location, so we can flip its state.</p>
<dl class="section remark"><dt>Remarks</dt><dd>The parsing code was taken from <a href="http://forum.arduino.cc/index.php/topic,188902.0.html">http://forum.arduino.cc/index.php/topic,188902.0.html</a> It works under the assumption that there is no nesting in the json file. IT WILL NOT WORK FOR ALL JSON RESPONSES. </dd></dl>

</div>
</div>
<a class="anchor" id="a0b33edabd7f1c4e4a0bf32c67269be2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The required loop function for the Arduino. </p>
<p>Handles the main logic for the Arduino. Essentially, it checks if the Arduino has travelled NUM_PATHS. If not, check how its state has changed: 1) If it has gone from state 0 to state 1, it is ready to move and collect data from the reflectance sensor. 2) If it has gone from state 1 to state 0, it is ready to move to a new starting position. 3) Otherwise, the state has not changed, so the server has not been able to successfully locate the robot, so send a request to the server again. </p>

</div>
</div>
<a class="anchor" id="a5f527ab54a51b215bb0f3492df22ab9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool send_request </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a request to the server with the state and possibly data. </p>
<p>Connects to the server at 'ip' through 'port' using TCP, for as long as the connection does not timeout. If successfully connected, send a HTTP request to the page in the 'request' string with state and data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>The HTTP request that is sent to the server.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the request is made successfully, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a7dfd9b79bc5a37d7df40207afbc5431f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The required setup function for the Arduino. </p>
<p>Initializes the pins on the Arduino and sets up an internet connection. </p>

</div>
</div>
<a class="anchor" id="a0fc912d7e8ff4b0908303847912e0da1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setupConnection </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts up the AdaFruit CC3000 Shield and connects to the internet. </p>
<p>Prints the amount of free RAM, checks initialization of the WiFi shield, deletes old connection profiles and obtains an IP address.</p>
<dl class="section remark"><dt>Remarks</dt><dd>The following code was taken from AdaFruit's buildTest example. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a7966965abcc24dee5aa6d080b7cccbb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Adafruit_CC3000 cc3000</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= Adafruit_CC3000(ADAFRUIT_CC3000_CS, </div>
<div class="line">                                         ADAFRUIT_CC3000_IRQ,</div>
<div class="line">                                         ADAFRUIT_CC3000_VBAT,</div>
<div class="line">                                         SPI_CLOCK_DIVIDER)</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 14 2014 18:45:41 for UCLA Robots Lab 2014 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
